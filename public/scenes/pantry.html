<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>
    <!--GUI Library-->
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <!--Environment extension-->
    <title>Pantry</title>

</head>

<body>
    <a-scene physics="debug: false">

        <a-assets>
            <!-- Images -->
            <img id="gemImage" src="./assets/images/gem.png">
            <img id="pantryGame" src="./assets/images/fruitBasket_DesktopInstructions.png">
            <img id="kingMessage" src="./assets/images/kingMessage_04.png">

            <!-- Models -->
            <a-asset-item id="gem" src="./assets/models/gem.obj"></a-asset-item>

            <a-asset-item id="kitchen" src="./assets/models/GreatHall.glb"></a-asset-item>
            <a-asset-item id="door" src="./assets/models/door.glb"></a-asset-item>
            <a-asset-item id="chandelier" src="./assets/models/Chandelier.glb"></a-asset-item>
            <a-asset-item id="shortTable" src="./assets/models/shortTableServants.glb"></a-asset-item>
            <a-asset-item id="shelf" src="./assets/models/shelf.glb"></a-asset-item>
            <a-asset-item id="counter" src="./assets/models/counter.glb"></a-asset-item>
            <a-asset-item id="cauldron" src="./assets/models/cauldron.glb"></a-asset-item>
            <a-asset-item id="stove" src="./assets/models/stove.glb"></a-asset-item>
            <a-asset-item id="chair" src="./assets/models/chair.glb"></a-asset-item>
            <a-asset-item id="stool" src="./assets/models/stoolServants.glb"></a-asset-item>
            <a-asset-item id="pot" src="./assets/models/Pot.glb"></a-asset-item>
            <a-asset-item id="plate" src="./assets/models/Plate.glb"></a-asset-item>
            <a-asset-item id="knife" src="./assets/models/Knife.glb"></a-asset-item>
            <a-asset-item id="bread" src="./assets/models/Bread.glb"></a-asset-item>
            <a-asset-item id="bucket" src="./assets/models/Bucket.glb"></a-asset-item>
            <a-asset-item id="ham" src="./assets/models/Ham.glb"></a-asset-item>
            <a-asset-item id="milk" src="./assets/models/Milk.glb"></a-asset-item>
            <a-asset-item id="cheese" src="./assets/models/Cheese.glb"></a-asset-item>
            <a-asset-item id="cabbage" src="./assets/models/Cabbage.glb"></a-asset-item>
            <a-asset-item id="potato" src="./assets/models/Potato.glb"></a-asset-item>
            <a-asset-item id="wall" src="./assets/models/Walls.glb"></a-asset-item>
            <a-asset-item id="apple" src="./assets/models/Apple.glb"></a-asset-item>
            <a-asset-item id="pear" src="./assets/models/Pear.glb"></a-asset-item>
            <a-asset-item id="strawberry" src="./assets/models/Strawberry.glb"></a-asset-item>
            <a-asset-item id="bucketApples" src="./assets/models/BucketApples.glb"></a-asset-item>
            <a-asset-item id="bucketPears" src="./assets/models/BucketPears.glb"></a-asset-item>
            <a-asset-item id="bucketStrawberries" src="./assets/models/BucketStrawberries.glb"></a-asset-item>
            <a-asset-item id="bucketPotatoes" src="./assets/models/BucketPotatoes.glb"></a-asset-item>
            <a-asset-item id="bucketCabbages" src="./assets/models/BucketCabbages.glb"></a-asset-item>

        </a-assets>

        <a-entity id="cameraRig" player_position location movement-controls kinematic-body>
            <a-entity camera look-controls position="0 2.8 0">
                <a-cursor></a-cursor>

                <a-gui-label id="playerLocation" width="1.5" height="0.3" font-size="4rem" padding="1rem 2rem" position="3 1.8 -2.5" value="Pantry">
                </a-gui-label>

                <a-entity visible="false" id="pantryInstructions" position="-2.2 -0.5 -2.5">
                    <a-image src="#pantryGame" width="4" height=" 3"></a-image>
                </a-entity>

                <a-entity visible="false" id="kingMessage_04" position="2.2 -0.5 -2.5">
                    <a-image src="#kingMessage" width="4" height=" 1.3"></a-image>
                </a-entity>

                <a-image id="gem1" src="#gemImage" width="0.3" height="0.5" position="-3.5 1.8 -2.5" opacity="0.4"></a-image>
                <a-image id="gem2" src="#gemImage" width="0.3" height="0.5" position="-3.1 1.8 -2.5" opacity="0.4"></a-image>
                <a-image id="gem3" src="#gemImage" width="0.3" height="0.5" position="-2.7 1.8 -2.5" opacity="0.4"></a-image>
                <a-image id="gem4" src="#gemImage" width="0.3" height="0.5" position="-2.3 1.8 -2.5" opacity="0.4"></a-image>
                <a-image id="gem5" src="#gemImage" width="0.3" height="0.5" position="-1.9 1.8 -2.5" opacity="0.4"></a-image>
                <a-image id="gem6" src="#gemImage" width="0.3" height="0.5" position="-1.5 1.8 -2.5" opacity="0.4"></a-image>
            </a-entity>
        </a-entity>

        <!-- Gem -->
        <a-obj-model pantrygem id="pantryGem" material="color: green" src="#gem" position="0 -1 -8" scale="0.1 0.1 0.1"></a-obj-model>

        <!-- Lighting -->
        <a-light type="point" position="-2 3 8"></a-light>
        <a-light type="point" position="-2 3 -16"></a-light>

        <!-- Floor -->
        <a-plane static-body material="color: grey" width="1000" height="1000" rotation="-90 0 0" position="0 -0.01 0"></a-plane>

        <!-- Models -->
        <a-entity gltf-model="#kitchen" scale="1.132 1.288 1.013" position="0 0 -12.2" rotation="0 90 0"></a-entity>

        <a-entity gltf-model="#wall" scale="2.525 2.525 2.525" position="0 0.059 -8.803" rotation="0 0 0"></a-entity>
        <a-entity gltf-model="#wall" scale="2.525 2.525 2.525" position="0 7.713 -8.803" rotation="0 -180.000 -180.000"></a-entity>

        <a-entity onclick="changeScene('kitchen')" gltf-model="#door" scale="1.4 1.4 1.4" position="0 0 2.2" rotation="0 180 0"></a-entity>

        <a-entity gltf-model="#chandelier" scale=".3 0.649 .3" position="0 5.314 -8.285" rotation="0, 0, 0"></a-entity>

        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 -3.679 -8.8" rotation="0, -90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 -1.966 -8.8" rotation="0, -90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 -0.317 -8.8" rotation="0, -90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 1.214 -8.8" rotation="0, -90, 0"></a-entity>

        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 -3.679 -1.768" rotation="0, -90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 -1.966 -1.768" rotation="0, -90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 -0.317 -1.768" rotation="0, -90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 1.214 -1.768" rotation="0, -90, 0"></a-entity>

        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 -3.679 -15.832" rotation="0, -90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 -1.966 -15.832" rotation="0, -90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 -0.317 -15.832" rotation="0, -90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="5.706 1.214 -15.832" rotation="0, -90, 0"></a-entity>

        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 -3.679 -8.8" rotation="0, 90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 -1.966 -8.8" rotation="0, 90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 -0.317 -8.8" rotation="0, 90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 1.214 -8.8" rotation="0, 90, 0"></a-entity>

        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 -3.679 -1.768" rotation="0, 90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 -1.966 -1.768" rotation="0, 90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 -0.317 -1.768" rotation="0, 90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 1.214 -1.768" rotation="0, 90, 0"></a-entity>

        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 -3.679 -15.832" rotation="0, 90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 -1.966 -15.832" rotation="0, 90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 -0.317 -15.832" rotation="0, 90, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="-5.706 1.214 -15.832" rotation="0, 90, 0"></a-entity>

        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="0 -3.679 -20.475" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="0 -1.966 -20.475" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="0 -0.317 -20.475" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#shelf" scale="1.2 1.2 1.2" position="0 1.214 -20.475" rotation="0, 0, 0"></a-entity>

        <a-entity gltf-model="#bucketApples" scale="2.5 2.5 2.5" position="5.704 1.178 -8.8" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketApples" scale="2.5 2.5 2.5" position="5.704 1.178 -6.829" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketApples" scale="2.5 2.5 2.5" position="5.704 1.178 -10.771" rotation="0, 0, 0"></a-entity>

        <a-entity gltf-model="#bucketStrawberries" scale="2.5 2.5 2.5" position="5.704 1.178 -1.79" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketStrawberries" scale="2.5 2.5 2.5" position="5.704 1.178 .249" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketStrawberries" scale="2.5 2.5 2.5" position="5.704 1.178 -3.923" rotation="0, 0, 0"></a-entity>

        <a-entity gltf-model="#bucketPears" scale="2.5 2.5 2.5" position="5.704 1.178 -15.81" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketPears" scale="2.5 2.5 2.5" position="5.704 1.178 -17.849" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketPears" scale="2.5 2.5 2.5" position="5.704 1.178 -13.677" rotation="0, 0, 0"></a-entity>

        <a-entity gltf-model="#bucketCabbages" scale="2.5 2.5 2.5" position="-5.704 1.178 -8.8" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketCabbages" scale="2.5 2.5 2.5" position="-5.704 1.178 -6.829" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketCabbages" scale="2.5 2.5 2.5" position="-5.704 1.178 -10.771" rotation="0, 0, 0"></a-entity>

        <a-entity gltf-model="#bucketPotatoes" scale="2.5 2.5 2.5" position="-5.704 1.178 -1.79" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketPotatoes" scale="2.5 2.5 2.5" position="-5.704 1.178 .249" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketPotatoes" scale="2.5 2.5 2.5" position="-5.704 1.178 -3.923" rotation="0, 0, 0"></a-entity>

        <a-entity gltf-model="#bucketPotatoes" scale="2.5 2.5 2.5" position="-5.704 1.178 -15.81" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketPotatoes" scale="2.5 2.5 2.5" position="-5.704 1.178 -17.849" rotation="0, 0, 0"></a-entity>
        <a-entity gltf-model="#bucketPotatoes" scale="2.5 2.5 2.5" position="-5.704 1.178 -13.677" rotation="0, 0, 0"></a-entity>

        <a-entity gltf-model="#bread" scale="0.059 0.059 0.038" position="0 1.686 -20.474" rotation="0, 45.000, 0"></a-entity>
        <a-entity gltf-model="#bread" scale="0.059 0.059 0.038" position="1.902 1.686 -20.474" rotation="0, 45.000, 0"></a-entity>
        <a-entity gltf-model="#bread" scale="0.059 0.059 0.038" position="-1.902 1.686 -20.474" rotation="0, 45.000, 0"></a-entity>

        <a-entity gltf-model="#bread" scale="0.059 0.059 0.038" position="0 3.371 -20.474" rotation="0, 45.000, 0"></a-entity>
        <a-entity gltf-model="#bread" scale="0.059 0.059 0.038" position="1.902 3.371 -20.474" rotation="0, 45.000, 0"></a-entity>
        <a-entity gltf-model="#bread" scale="0.059 0.059 0.038" position="-1.902 3.371 -20.474" rotation="0, 45.000, 0"></a-entity>

        <a-entity text="value: Kitchen; align: center; color:#785236;" position="0 4.684 1.762" scale="7 7 1" rotation="0 180 0"></a-entity>

        <a-box static-body visible="false" position="6.7 3.3 -8.7" scale="0.5 7 28"></a-box>
        <a-box static-body visible="false" position="-6.7 3.3 -8.7" scale="0.5 7 28"></a-box>
        <a-box static-body visible="false" position="0 3.3 2.58" scale="15 7.5 0.6"></a-box>
        <a-box static-body visible="false" position="0 3.3 -21.5" scale="15 7.5 0.6"></a-box>

        <a-box static-body visible="false" position="0 3.33 -20" scale="6 7.4 1.3"></a-box>
        <a-box static-body visible="false" position="-6 3.3 -9" scale="1 7.4 18"></a-box>
        <a-box static-body visible="false" position="6 3.3 -9" scale="1 7.4 18"></a-box>

    </a-scene>

    <script src="./js/scoreSystem.js"></script>
    <script src="./js/gemItemControl.js"></script>
    <script src="./js/message_04_controller.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        function changeScene(val) {
            if (val == 'kitchen') {
                socket.emit('kitchen') //calls server method
            }
        };

        let socket = io();
        //default connect event
        socket.on('connect', function() {
            console.log("connected!");
        });

        socket.on('kitchen', function(data) {
            window.location.replace('kitchen') //Call
        });
        socket.on('pageLocationQuery', (data) => {
            socket.emit('mobileLoadPantry');
        });
    </script>
</body>

</html>